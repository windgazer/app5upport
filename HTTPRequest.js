/*! app5upport - v0.0.7 - 2013-08-29 */var HTTPRequest=function(){function a(a,b){var c=a.httpRequest;4==c.readyState&&b.resolve({status:c.status,request:a})}function b(b,c){0!=b.httpRequest&&(b.httpRequest.onreadystatechange=function(){a(b,c)})}function c(a){this.debug=a?!0:!1,this.handlers={},this.httpRequest=!1,this.httpRequest||"undefined"==typeof XMLHttpRequest||(this.httpRequest=new XMLHttpRequest)}c.prototype={cancel:function(){this.httpRequest.abort()},openRequest:function(a,c,d){var e=new RSVP.Promise;return b(this,e),this.debug?this.httpRequest.open(a,prompt("Request url",c),d):this.httpRequest.open(a,c,d),e},sendRequest:function(a,b,c,d,e){var f=this.openRequest(a,b,c);if(e)for(var g=0;g<e.length;g++){var h=e[g];this.httpRequest.setRequestHeader(h.name,h.value)}return this.httpRequest.send(d),f},getRequest:function(a,b,c){if(0!=this.httpRequest){this.target=b;var d=null==c?"GET":"POST";return this.sendRequest(d,a,!1,c)}},doPostForm:function(a){if(0!=this.httpRequest){this.target=a,a.method,a.action;for(var b="",b="",c=0;c<a.elements.length;c++){var e=a.elements[c],f=e.id||e.name;if(f){var g=d.getValue(e);g&&(b.length>0&&(b+=","),b+=f,b+="=",b+=escape(g))}}return alert("This method has not been implemented properly, currently no data is accually posted!"),this.doPost(a.action,a,b)}},doPost:function(a,b,c){return this.doRequest(a,"POST",b,c,new Array({name:"Content-Type",value:"application/x-www-form-urlencoded"}))},doGet:function(a,b){return this.doRequest(a,"GET",b,null)},doHead:function(a,b){return this.doRequest(a,"HEAD",b,null)},doRequest:function(a,b,c,d,e){return 0!=this.httpRequest?(this.target=c,this.sendRequest(b,a,!0,d,e)):void 0},getXML:function(a,b,c){return 0!=this.httpRequest?(this.getRequest(a,b,c),this.httpRequest.responseXML):void 0},getText:function(a,b,c){return 0!=this.httpRequest?(this.getRequest(a,b,c),this.httpRequest.responseText):void 0},addHandler:function(){throw"No longer implemented, with support for Promise, please use .then( ... )"}},formHelpers={input:function(a){return formHelpers[a.type]?formHelpers[a.type](a):a.value},select:function(a){return a[a.selectedIndex].value},textarea:function(a){return a.value},checkbox:function(a){return a.checked?a.value:null},radio:function(a){return a.checked?a.value:null}};var d={getValue:function(a){var b=a.nodeName.toLowerCase();return formHelpers[b]?formHelpers[b](a):null}};return c}();